<?php

namespace Database\Factories;

use App\Models\Alert;
use App\Models\User;
use Illuminate\Database\Eloquent\Factories\Factory;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\Alert>
 */
class AlertFactory extends Factory
{
    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        $arabicTitles = [
            'إشعار جديد للمزاد',
            'تذكير بموعد المزاد',
            'إشعار بقبول العرض',
            'تذكير بالدفع',
            'إشعار برفض العرض',
            'تذكير بإنتهاء المزاد',
            'إشعار بتحديث المزاد',
            'تذكير بتسجيل الدخول',
            'إشعار بتغيير الحالة',
            'تذكير بتحديث الملف الشخصي',
            'إشعار بفوزك في المزاد',
            'تذكير بموعد انتهاء العرض',
            'إشعار بتحديث الحساب',
            'تذكير بالدفع المستحق',
            'إشعار بإنشاء مزاد جديد',
        ];

        $arabicDescriptions = [
            'تم إنشاء مزاد جديد قد يهمك. يرجى مراجعة التفاصيل والمشاركة إذا كان مناسباً لك.',
            'تذكير: المزاد الذي تتابعه سينتهي قريباً. تأكد من تقديم عرضك قبل انتهاء الوقت المحدد.',
            'تهانينا! تم قبول عرضك في المزاد. يرجى متابعة الخطوات التالية لإتمام المعاملة.',
            'تذكير: يرجى إتمام عملية الدفع للمزاد الفائز به في أقرب وقت ممكن.',
            'نأسف لإبلاغك بأن عرضك في المزاد لم يتم قبوله. يمكنك المحاولة مرة أخرى في مزادات أخرى.',
            'تذكير: المزاد الذي تتابعه سينتهي خلال ساعات قليلة. تأكد من تقديم أفضل عرض لديك.',
            'تم تحديث معلومات المزاد الذي تتابعه. يرجى مراجعة التحديثات الجديدة.',
            'تذكير: لم تقم بتسجيل الدخول منذ فترة. يرجى تسجيل الدخول لمتابعة مزاداتك.',
            'تم تغيير حالة المزاد الذي تتابعه. يرجى مراجعة الحالة الجديدة.',
            'تذكير: يرجى تحديث معلومات ملفك الشخصي للحصول على أفضل تجربة استخدام.',
            'مبارك! لقد فزت في المزاد. يرجى التواصل معنا لإتمام عملية الشراء.',
            'تذكير: عرضك في المزاد سينتهي قريباً. تأكد من مراجعة تفاصيل المزاد.',
            'تم تحديث معلومات حسابك بنجاح. يرجى مراجعة التغييرات.',
            'تذكير: لديك دفعة مستحقة للمزاد. يرجى إتمام الدفع في أقرب وقت.',
            'تم إنشاء مزاد جديد في الفئة التي تتابعها. اطلع على التفاصيل الآن.',
        ];

        // Try to get an existing user, otherwise create a new one
        $userId = User::where('type', 'user')
            ->where('is_active', true)
            ->inRandomOrder()
            ->value('id') ?? User::factory();

        return [
            'title' => fake()->randomElement($arabicTitles),
            'description' => fake()->randomElement($arabicDescriptions),
            'user_id' => $userId,
            'is_read' => fake()->boolean(40), // 40% chance of being read
        ];
    }
}

