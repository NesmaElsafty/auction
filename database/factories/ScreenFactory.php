<?php

namespace Database\Factories;

use App\Models\Screen;
use App\Models\Category;
use Illuminate\Database\Eloquent\Factories\Factory;

/**
 * @extends \Illuminate\Database\Eloquent\Factories\Factory<\App\Models\Screen>
 */
class ScreenFactory extends Factory
{
    /**
     * Define the model's default state.
     *
     * @return array<string, mixed>
     */
    public function definition(): array
    {
        // Randomly select a category to generate appropriate screens
        // When used with specific category_id, use the forCategory state method
        $categoryName = fake()->randomElement(['السيارات', 'الاراضي', 'العقارات', 'المنزلية', 'الهدم']);

        // Get screens for the selected category
        $screensByCategory = $this->getScreensByCategory();
        $screens = $screensByCategory[$categoryName] ?? $screensByCategory['السيارات'];
        
        $index = fake()->numberBetween(0, count($screens['titles']) - 1);
        
        return [
            'title' => $screens['titles'][$index],
            'description' => $screens['descriptions'][$index],
            'category_id' => Category::factory(),
        ];
    }

    /**
     * Set screens for a specific category by name
     */
    public function forCategory(string $categoryName): static
    {
        return $this->state(function (array $attributes) use ($categoryName) {
            $screensByCategory = $this->getScreensByCategory();
            $screens = $screensByCategory[$categoryName] ?? $screensByCategory['السيارات'];
            $index = fake()->numberBetween(0, count($screens['titles']) - 1);
            
            return [
                'title' => $screens['titles'][$index],
                'description' => $screens['descriptions'][$index],
            ];
        });
    }

    /**
     * Get all screens by category
     */
    private function getScreensByCategory(): array
    {
        return [
            'السيارات' => [
                'titles' => [
                    'أرقام المركبة',
                    'تفاصيل السيارة',
                    'مواصفات السيارة',
                    'حالة السيارة التالفة',
                    'الفحص الدوري',
                    'استمارة السيارة',
                    'معاينة السيارة',
                ],
                'descriptions' => [
                    'شاشة إدخال أرقام المركبة تشمل رقم اللوحة، رقم الهيكل، الرقم التسلسلي، وعدد الكيلومترات.',
                    'شاشة تفاصيل السيارة تحتوي على معلومات الشركة المصنعة، الطراز، الفئة، وسنة الصنع.',
                    'شاشة مواصفات السيارة تتضمن اللون الخارجي والداخلي، نوع الوقود، وناقل الحركة.',
                    'شاشة حالة السيارة التالفة مخصصة لتسجيل نوع التلف ووصف الضرر مع إمكانية إرفاق صور الضرر.',
                    'شاشة الفحص الدوري تتيح تسجيل حالة الفحص مع إرفاق صورة الفحص الدوري.',
                    'شاشة استمارة السيارة تحتوي على حالة الاستمارة مع إمكانية إرفاق صورة الاستمارة.',
                    'شاشة معاينة السيارة تتيح تحديد موقع المعاينة، المنطقة، ووقت المعاينة.',
                ],
            ],
            'الاراضي' => [
                'titles' => [
                    'معلومات الأرض',
                    'موقع الأرض',
                    'مساحة الأرض',
                    'الخدمات المتوفرة',
                    'الوثائق القانونية',
                    'الصور والخرائط',
                    'معاينة الأرض',
                ],
                'descriptions' => [
                    'شاشة معلومات الأرض تشمل رقم القطعة، رقم المخطط، والرقم المساحي.',
                    'شاشة موقع الأرض تحتوي على العنوان الكامل، المنطقة، والحي.',
                    'شاشة مساحة الأرض تتضمن المساحة بالمتر المربع، الأطوال، والحدود.',
                    'شاشة الخدمات المتوفرة تتيح تحديد توفر الكهرباء، الماء، الصرف الصحي، والطرق.',
                    'شاشة الوثائق القانونية تحتوي على صك الملكية، الخريطة المساحية، والتصاريح.',
                    'شاشة الصور والخرائط تتيح إرفاق صور الأرض وخرائط الموقع.',
                    'شاشة معاينة الأرض تتيح تحديد موقع المعاينة، المنطقة، ووقت المعاينة.',
                ],
            ],
            'العقارات' => [
                'titles' => [
                    'معلومات العقار',
                    'موقع العقار',
                    'مساحة العقار',
                    'مواصفات العقار',
                    'الخدمات والمرافق',
                    'الوثائق القانونية',
                    'معاينة العقار',
                ],
                'descriptions' => [
                    'شاشة معلومات العقار تشمل نوع العقار، عدد الطوابق، وعدد الوحدات.',
                    'شاشة موقع العقار تحتوي على العنوان الكامل، المنطقة، والحي.',
                    'شاشة مساحة العقار تتضمن المساحة الإجمالية، مساحة الوحدات، ومساحة الأرض.',
                    'شاشة مواصفات العقار تتيح تحديد عدد الغرف، الحمامات، والمواقف.',
                    'شاشة الخدمات والمرافق تحتوي على توفر المصاعد، مواقف السيارات، والحدائق.',
                    'شاشة الوثائق القانونية تتيح إرفاق صك الملكية، التصاريح، والخرائط.',
                    'شاشة معاينة العقار تتيح تحديد موقع المعاينة، المنطقة، ووقت المعاينة.',
                ],
            ],
            'المنزلية' => [
                'titles' => [
                    'معلومات القطعة',
                    'نوع القطعة',
                    'حالة القطعة',
                    'المواصفات',
                    'الصور',
                    'الضمان',
                    'معاينة القطعة',
                ],
                'descriptions' => [
                    'شاشة معلومات القطعة تشمل اسم القطعة، الماركة، والرقم التسلسلي.',
                    'شاشة نوع القطعة تحتوي على تصنيف القطعة، الفئة، والنوع.',
                    'شاشة حالة القطعة تتيح تحديد الحالة العامة، العمر الافتراضي، والتلف.',
                    'شاشة المواصفات تتضمن الأبعاد، الوزن، المواد المصنوعة منها، واللون.',
                    'شاشة الصور تتيح إرفاق صور متعددة للقطعة من زوايا مختلفة.',
                    'شاشة الضمان تحتوي على معلومات الضمان، فترة الضمان، والضمان المتبقي.',
                    'شاشة معاينة القطعة تتيح تحديد موقع المعاينة، المنطقة، ووقت المعاينة.',
                ],
            ],
            'الهدم' => [
                'titles' => [
                    'معلومات المبنى',
                    'موقع المبنى',
                    'حالة المبنى',
                    'نوع الهدم',
                    'التراخيص',
                    'الصور والوثائق',
                    'معاينة الموقع',
                ],
                'descriptions' => [
                    'شاشة معلومات المبنى تشمل نوع المبنى، عدد الطوابق، ومساحة المبنى.',
                    'شاشة موقع المبنى تحتوي على العنوان الكامل، المنطقة، والحي.',
                    'شاشة حالة المبنى تتيح تحديد حالة المبنى، نسبة التلف، والاستخدام السابق.',
                    'شاشة نوع الهدم تتضمن نوع الهدم المطلوب، الطريقة، والمعدات اللازمة.',
                    'شاشة التراخيص تحتوي على تصريح الهدم، التراخيص المطلوبة، والموافقات.',
                    'شاشة الصور والوثائق تتيح إرفاق صور المبنى، الخرائط، والوثائق القانونية.',
                    'شاشة معاينة الموقع تتيح تحديد موقع المعاينة، المنطقة، ووقت المعاينة.',
                ],
            ],
        ];
    }
}

